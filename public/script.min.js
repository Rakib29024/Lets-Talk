const _0x53680d=_0x41c2;(function(_0x565b5d,_0x4a44c7){const _0x3f5ff4=_0x41c2,_0x57a3a1=_0x565b5d();while(!![]){try{const _0x540d40=-parseInt(_0x3f5ff4(0x149))/0x1+parseInt(_0x3f5ff4(0x12b))/0x2*(parseInt(_0x3f5ff4(0x11b))/0x3)+-parseInt(_0x3f5ff4(0x112))/0x4*(-parseInt(_0x3f5ff4(0x16a))/0x5)+-parseInt(_0x3f5ff4(0x137))/0x6+-parseInt(_0x3f5ff4(0x185))/0x7+-parseInt(_0x3f5ff4(0x10f))/0x8*(parseInt(_0x3f5ff4(0x12c))/0x9)+-parseInt(_0x3f5ff4(0x13b))/0xa*(-parseInt(_0x3f5ff4(0x141))/0xb);if(_0x540d40===_0x4a44c7)break;else _0x57a3a1['push'](_0x57a3a1['shift']());}catch(_0x21946b){_0x57a3a1['push'](_0x57a3a1['shift']());}}}(_0x582d,0x3cdd1));const socket=io(),roomInput=document[_0x53680d(0x14c)]('room-input'),joinRoomButton=document[_0x53680d(0x14c)](_0x53680d(0x16e)),localVideo=document[_0x53680d(0x14c)](_0x53680d(0x172)),remoteVideo=document[_0x53680d(0x14c)](_0x53680d(0x120)),videoContainer=document[_0x53680d(0x14c)](_0x53680d(0x13a)),roomContainer=document[_0x53680d(0x14c)](_0x53680d(0x162)),mainContainer=document[_0x53680d(0x14c)](_0x53680d(0x146)),usernameInput=document[_0x53680d(0x14c)](_0x53680d(0x178)),localUsername=document[_0x53680d(0x14c)](_0x53680d(0x153)),remoteUsername=document[_0x53680d(0x14c)]('remote-username'),local=document[_0x53680d(0x14c)]('local'),uuidInput=document[_0x53680d(0x14c)](_0x53680d(0x17b)),generateButton=document[_0x53680d(0x14c)]('generate'),copyUUIDButon=document[_0x53680d(0x14c)](_0x53680d(0x11d)),shareScreenButton=document['getElementById'](_0x53680d(0x113)),stopShareScreenButton=document[_0x53680d(0x14c)](_0x53680d(0x10b)),endCallButton=document[_0x53680d(0x14c)]('end-call'),videoText=document['getElementById'](_0x53680d(0x159)),audio=document['getElementById'](_0x53680d(0x126)),controlButton=document[_0x53680d(0x14c)](_0x53680d(0x123));function _0x41c2(_0x55d6c7,_0x1d2f24){const _0x582d65=_0x582d();return _0x41c2=function(_0x41c299,_0x26cb40){_0x41c299=_0x41c299-0x10b;let _0x56df22=_0x582d65[_0x41c299];return _0x56df22;},_0x41c2(_0x55d6c7,_0x1d2f24);}let localStream,remoteStream,peerConnection,screenStream,aiVoice=![];const iceServers={'iceServers':[{'urls':_0x53680d(0x133)}]};function _0x582d(){const _0x4d7cd1=['Room\x20is\x20already\x20full','uuidGenerated','blob','video','addIceCandidate','local-username','ontrack','mouseup','user-connected','application/json','generateUUID','video-text','answer','getBoundingClientRect','removeChild','paused','readAsDataURL','onerror','stop','addTrack','room-container','Generate\x20a\x20room\x20UUID','POST','Copied!\x20:\x20','add','mediaDevices','style','setRemoteDescription','657985MjhfQW','json','forEach','getContext','join-room','warning','image/png','getVideoTracks','local-video','mousedown','classList','srcObject','ondragstart','innerHTML','username-input','setLocalDescription','play','room-input','pageY','ended','find','pause','appendChild','/process-image','click','left','info','1291472EQsIEd','width','className','username','clientY','display','div','candidate','stop-share-screen','kind','log','pageX','976NjpDLt','height','getTracks','8pFuvaI','share-screen','getUserMedia','block','value','createAnswer','emit','show','mousemove','3GmNRWh','Play','copy','getDisplayMedia','getSenders','remote-video','streams','disabled','audio-control-button','Error:\x20','notificationContainer','audio','statusText','toBlob','user-leave','track','477458ygptNJ','27XrakLK','Unable\x20to\x20access\x20media\x20devices.\x20Please\x20ensure\x20your\x20camera\x20and\x20microphone\x20are\x20connected\x20and\x20permissions\x20are\x20granted.','createObjectURL','user-disconnected','text','split','top','stun:stun.l.google.com:19302','close','createElement','current-users','850668RvmEaN','replaceTrack','stringify','video-container','4723270GhsaXU','ice-candidate','addEventListener','clientX','none','src','11yQOXXQ','Error\x20processing\x20image:','/play-audio','onmouseup','canvas','main-container','offer','error','398313PGIgyy','setSelectionRange','textContent','getElementById','length'];_0x582d=function(){return _0x4d7cd1;};return _0x582d();}joinRoomButton['addEventListener'](_0x53680d(0x182),()=>{const _0x38e007=_0x53680d,_0x5f2928=roomInput[_0x38e007(0x116)],_0x36a8e3=usernameInput[_0x38e007(0x116)];_0x5f2928&&_0x36a8e3&&joinRoom(_0x5f2928,_0x36a8e3);}),socket['on']('room-full',()=>{const _0x49daff=_0x53680d;showNotification(_0x49daff(0x14e),'warning'),roomContainer[_0x49daff(0x168)][_0x49daff(0x18a)]='block',videoContainer['style'][_0x49daff(0x18a)]=_0x49daff(0x13f);}),socket['on'](_0x53680d(0x12f),_0x391518=>{const _0x10ab91=_0x53680d;console[_0x10ab91(0x10d)]('User\x20left\x20the\x20meeting'),console['log'](_0x391518);});async function joinRoom(_0x13fc7b,_0x5a2d8a){const _0x5050de=_0x53680d;mainContainer['style'][_0x5050de(0x18a)]='none',videoContainer[_0x5050de(0x168)][_0x5050de(0x18a)]='block';try{localStream=await navigator['mediaDevices'][_0x5050de(0x114)]({'video':!![],'audio':!![]}),localVideo[_0x5050de(0x175)]=localStream,localUsername[_0x5050de(0x14b)]=_0x5a2d8a,aiVoice=!![],captureFrameAndSend();}catch(_0x58e320){aiVoice=![],console[_0x5050de(0x10d)]('Error\x20accessing\x20media\x20devices:'+_0x58e320),alert(_0x5050de(0x12d)),videoContainer[_0x5050de(0x177)]='<p>Unable\x20to\x20access\x20media\x20devices.\x20Error:\x20'+_0x58e320['message']+'</p>';}socket[_0x5050de(0x118)](_0x5050de(0x16e),{'roomId':_0x13fc7b,'username':_0x5a2d8a}),socket['on'](_0x5050de(0x136),_0x12d6e3=>{const _0x4d52b5=_0x5050de;if(_0x12d6e3[_0x4d52b5(0x14d)]>0x0){const _0x332d73=_0x12d6e3[0x0];remoteUsername['textContent']=_0x332d73[_0x4d52b5(0x188)];}}),socket['on'](_0x5050de(0x156),async _0x30921f=>{const _0x48f7b4=_0x5050de;remoteUsername['textContent']=_0x30921f[_0x48f7b4(0x188)],peerConnection=createPeerConnection(_0x13fc7b),localStream['getTracks']()[_0x48f7b4(0x16c)](_0x34c07d=>peerConnection[_0x48f7b4(0x161)](_0x34c07d,localStream)),captureFrameAndSend();const _0x5d7b39=await peerConnection['createOffer']();await peerConnection[_0x48f7b4(0x179)](_0x5d7b39),socket[_0x48f7b4(0x118)](_0x48f7b4(0x147),_0x13fc7b,_0x5d7b39);}),socket['on'](_0x5050de(0x147),async _0x3121d8=>{const _0x446941=_0x5050de;peerConnection=createPeerConnection(_0x13fc7b),await peerConnection[_0x446941(0x169)](new RTCSessionDescription(_0x3121d8)),localStream['getTracks']()[_0x446941(0x16c)](_0x520b37=>peerConnection['addTrack'](_0x520b37,localStream));const _0x47bd9e=await peerConnection[_0x446941(0x117)]();await peerConnection[_0x446941(0x179)](_0x47bd9e),socket[_0x446941(0x118)](_0x446941(0x15a),_0x13fc7b,_0x47bd9e);}),socket['on'](_0x5050de(0x15a),async _0x477174=>{await peerConnection['setRemoteDescription'](new RTCSessionDescription(_0x477174));}),socket['on'](_0x5050de(0x13c),_0x2221c5=>{const _0x31d2ba=_0x5050de;peerConnection[_0x31d2ba(0x152)](new RTCIceCandidate(_0x2221c5));}),socket['on']('user-disconnected',()=>{const _0x30e554=_0x5050de;remoteVideo[_0x30e554(0x175)]=null,peerConnection[_0x30e554(0x134)]();});}endCallButton[_0x53680d(0x13d)](_0x53680d(0x182),()=>{const _0x846bcb=_0x53680d;peerConnection&&peerConnection['close'](),localStream&&localStream[_0x846bcb(0x111)]()[_0x846bcb(0x16c)](_0x1acf16=>_0x1acf16[_0x846bcb(0x160)]()),remoteStream&&remoteStream[_0x846bcb(0x111)]()[_0x846bcb(0x16c)](_0xa3c95e=>_0xa3c95e['stop']()),socket[_0x846bcb(0x118)](_0x846bcb(0x129)),localVideo[_0x846bcb(0x175)]=null,remoteVideo[_0x846bcb(0x175)]=null,mainContainer[_0x846bcb(0x168)][_0x846bcb(0x18a)]=_0x846bcb(0x115),videoContainer[_0x846bcb(0x168)][_0x846bcb(0x18a)]=_0x846bcb(0x13f),location['reload']();});function createPeerConnection(_0x38f314){const _0x195ee6=_0x53680d,_0x51205f=new RTCPeerConnection(iceServers);return _0x51205f['onicecandidate']=_0x4c0401=>{const _0x455cf7=_0x41c2;_0x4c0401[_0x455cf7(0x18c)]&&socket[_0x455cf7(0x118)](_0x455cf7(0x13c),_0x38f314,_0x4c0401[_0x455cf7(0x18c)]);},_0x51205f[_0x195ee6(0x154)]=_0x3102fd=>{const _0x5758ff=_0x195ee6;remoteStream=_0x3102fd[_0x5758ff(0x121)][0x0],remoteVideo[_0x5758ff(0x175)]=remoteStream;},_0x51205f;}socket['on'](_0x53680d(0x14f),_0x130a2b=>{uuidInput['value']=_0x130a2b;}),local[_0x53680d(0x13d)](_0x53680d(0x173),_0x44a11c=>{const _0x5a48c2=_0x53680d,_0x3f2da6=_0x44a11c[_0x5a48c2(0x13e)]-local[_0x5a48c2(0x15b)]()[_0x5a48c2(0x183)],_0x26013f=_0x44a11c[_0x5a48c2(0x189)]-local[_0x5a48c2(0x15b)]()[_0x5a48c2(0x132)];function _0x15e86e(_0x53e49d,_0x28d417){const _0x3ce364=_0x5a48c2;_0x53e49d-_0x3f2da6>=0x0&&_0x28d417-_0x26013f>=0x0&&(local[_0x3ce364(0x168)][_0x3ce364(0x183)]=_0x53e49d-_0x3f2da6+'px',local['style'][_0x3ce364(0x132)]=_0x28d417-_0x26013f+'px');}function _0x41b5e1(_0x38b528){const _0x43fa23=_0x5a48c2;_0x15e86e(_0x38b528[_0x43fa23(0x10e)],_0x38b528[_0x43fa23(0x17c)]);}document['addEventListener'](_0x5a48c2(0x11a),_0x41b5e1),local['addEventListener'](_0x5a48c2(0x155),()=>{const _0x413009=_0x5a48c2;document['removeEventListener']('mousemove',_0x41b5e1),local[_0x413009(0x144)]=null;}),local[_0x5a48c2(0x176)]=()=>![];}),document[_0x53680d(0x13d)]('DOMContentLoaded',function(){const _0x256706=_0x53680d;generateButton[_0x256706(0x13d)]('click',function(){const _0x47af77=_0x256706;socket[_0x47af77(0x118)](_0x47af77(0x158));});}),copyUUIDButon['addEventListener'](_0x53680d(0x182),function(){const _0x32c017=_0x53680d;if(roomInput[_0x32c017(0x116)]==''||roomInput[_0x32c017(0x116)]==null){showNotification(_0x32c017(0x163),_0x32c017(0x16f));return;}roomInput[_0x32c017(0x122)]=![],roomInput['select'](),roomInput[_0x32c017(0x14a)](0x0,0x1869f),document['execCommand']('copy'),roomInput[_0x32c017(0x122)]=!![],showNotification(_0x32c017(0x165)+roomInput[_0x32c017(0x116)],_0x32c017(0x184));}),shareScreenButton[_0x53680d(0x13d)](_0x53680d(0x182),async()=>{const _0x38363e=_0x53680d;if(!peerConnection)return;try{screenStream=await navigator[_0x38363e(0x167)][_0x38363e(0x11e)]({'video':!![]});const _0x9fcbfe=screenStream[_0x38363e(0x171)]()[0x0],_0x807ad0=peerConnection[_0x38363e(0x11f)]()[_0x38363e(0x17e)](_0x4752fa=>_0x4752fa[_0x38363e(0x12a)][_0x38363e(0x10c)]===_0x38363e(0x151));_0x807ad0&&_0x807ad0[_0x38363e(0x138)](_0x9fcbfe),shareScreenButton[_0x38363e(0x168)][_0x38363e(0x18a)]=_0x38363e(0x13f),stopShareScreenButton[_0x38363e(0x168)][_0x38363e(0x18a)]=_0x38363e(0x115),_0x9fcbfe['onended']=async()=>{const _0x5a9da3=_0x38363e,_0x1c3e29=localStream[_0x5a9da3(0x171)]()[0x0],_0x42e7c5=peerConnection[_0x5a9da3(0x11f)]()['find'](_0x28cfcf=>_0x28cfcf[_0x5a9da3(0x12a)][_0x5a9da3(0x10c)]===_0x5a9da3(0x151));_0x42e7c5&&_0x42e7c5[_0x5a9da3(0x138)](_0x1c3e29),localVideo[_0x5a9da3(0x175)]=localStream;},localVideo[_0x38363e(0x175)]=screenStream;}catch(_0x37119e){console[_0x38363e(0x148)](_0x38363e(0x124)+_0x37119e);}}),stopShareScreenButton['addEventListener'](_0x53680d(0x182),()=>{const _0x3c12f3=_0x53680d;screenStream&&screenStream['getTracks']()[_0x3c12f3(0x16c)](_0x1959d3=>_0x1959d3['stop']());const _0xd9c126=localStream[_0x3c12f3(0x171)]()[0x0],_0x195ce3=peerConnection[_0x3c12f3(0x11f)]()[_0x3c12f3(0x17e)](_0x3bbdd6=>_0x3bbdd6[_0x3c12f3(0x12a)][_0x3c12f3(0x10c)]===_0x3c12f3(0x151));_0x195ce3&&_0x195ce3[_0x3c12f3(0x138)](_0xd9c126),localVideo['srcObject']=localStream,shareScreenButton[_0x3c12f3(0x168)][_0x3c12f3(0x18a)]='block',stopShareScreenButton[_0x3c12f3(0x168)]['display']=_0x3c12f3(0x13f);});function showNotification(_0x100329,_0x28f881,_0xcab987=0xbb8){const _0x3c0aee=_0x53680d;var _0x22481d=document[_0x3c0aee(0x135)](_0x3c0aee(0x18b));_0x22481d[_0x3c0aee(0x187)]='notification\x20'+_0x28f881,_0x22481d[_0x3c0aee(0x14b)]=_0x100329,document['getElementById'](_0x3c0aee(0x125))[_0x3c0aee(0x180)](_0x22481d),setTimeout(function(){const _0x786784=_0x3c0aee;_0x22481d[_0x786784(0x174)][_0x786784(0x166)](_0x786784(0x119)),setTimeout(function(){const _0x4473cd=_0x786784;_0x22481d['classList']['remove'](_0x4473cd(0x119)),setTimeout(function(){const _0x3cbf28=_0x4473cd;_0x22481d['parentNode'][_0x3cbf28(0x15c)](_0x22481d);},0x1f4);},_0xcab987);},0x64);}const captureFrameAndSend=async()=>{const _0x412b64=_0x53680d;console[_0x412b64(0x10d)](aiVoice);const _0x1df96c=document['createElement'](_0x412b64(0x145)),_0x468154=_0x1df96c[_0x412b64(0x16d)]('2d'),_0x1df1bb=document[_0x412b64(0x135)]('video');_0x468154['drawImage'](localVideo,0x0,0x0,_0x1df96c[_0x412b64(0x186)],_0x1df96c[_0x412b64(0x110)]);const _0x8ee1fe=await new Promise(_0x376f59=>_0x1df96c[_0x412b64(0x128)](_0x376f59,_0x412b64(0x170))),_0x548382=URL[_0x412b64(0x12e)](_0x8ee1fe),_0x584bcb=await blobToBase64(_0x8ee1fe),_0x248c3d=await fetch(_0x412b64(0x181),{'method':_0x412b64(0x164),'headers':{'Content-Type':_0x412b64(0x157)},'body':JSON[_0x412b64(0x139)]({'imageData':_0x584bcb})});if(!_0x248c3d['ok']){console[_0x412b64(0x148)](_0x412b64(0x142),_0x248c3d[_0x412b64(0x127)]);return;}const _0x275ddb=await _0x248c3d[_0x412b64(0x16b)]();videoText['innerText']=_0x275ddb['text'];if(aiVoice){const _0x5bc2a1=await fetch(_0x412b64(0x143),{'method':_0x412b64(0x164),'headers':{'Content-Type':_0x412b64(0x157)},'body':JSON[_0x412b64(0x139)]({'text':_0x275ddb[_0x412b64(0x130)]})}),_0x7e776=URL['createObjectURL'](await _0x5bc2a1[_0x412b64(0x150)]());audio[_0x412b64(0x140)]=_0x7e776,audio['style']['display']=_0x412b64(0x115),audio['play']();}};audio[_0x53680d(0x13d)](_0x53680d(0x17d),function(){}),controlButton['style'][_0x53680d(0x18a)]=_0x53680d(0x115),controlButton[_0x53680d(0x13d)](_0x53680d(0x182),function(){const _0x27bcbe=_0x53680d;audio[_0x27bcbe(0x15d)]?(aiVoice=!![],audio[_0x27bcbe(0x17a)](),controlButton[_0x27bcbe(0x14b)]='Pause'):(aiVoice=![],audio[_0x27bcbe(0x17f)](),controlButton[_0x27bcbe(0x14b)]=_0x27bcbe(0x11c));});async function blobToBase64(_0x1874b2){return new Promise((_0x502b10,_0x20dcea)=>{const _0x37ed21=_0x41c2,_0x38481f=new FileReader();_0x38481f['onload']=()=>_0x502b10(_0x38481f['result'][_0x37ed21(0x131)](',')[0x1]),_0x38481f[_0x37ed21(0x15f)]=_0x47ffbc=>_0x20dcea(_0x47ffbc),_0x38481f[_0x37ed21(0x15e)](_0x1874b2);});}setInterval(async()=>{captureFrameAndSend();},0x3a98);